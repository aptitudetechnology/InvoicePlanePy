2025-10-24 02:30:15,152 INFO sqlalchemy.engine.Engine COMMIT
INFO:     Started server process [10]
INFO:     Waiting for application startup.

==================================================
ðŸš€ FastAPI Routes Registered:
==================================================
  GET, HEAD       /openapi.json
  GET, HEAD       /docs
  GET, HEAD       /docs/oauth2-redirect
  GET, HEAD       /redoc
  GET             /auth/login
  POST            /auth/login
  POST            /auth/logout
  GET             /dashboard/keepalive
  GET             /dashboard/dashboard
  GET             /dashboard/
  GET             /clients/
  GET             /clients/create
  POST            /clients/
  GET             /clients/api
  GET             /clients/{client_id}
  GET             /clients/{client_id}/edit
  GET             /clients/{client_id}/api
  GET             /invoices/api
  GET             /invoices/
  GET             /invoices/create
  POST            /invoices/create
  GET             /invoices/verify-import
  GET             /invoices/{invoice_id}
  GET             /invoices/{invoice_id}/edit
  POST            /invoices/{invoice_id}/edit
  POST            /invoices/
  GET             /invoices/{invoice_id}/api
  DELETE          /invoices/{invoice_id}
  POST            /invoices/import
  GET             /invoices/import
  POST            /invoices/{invoice_id}
  GET             /quotes/
  GET             /quotes/
  GET             /quotes/create
  POST            /quotes/create
  GET             /quotes/{quote_id}
  GET             /quotes/{quote_id}/edit
  POST            /quotes/{quote_id}/edit
  POST            /quotes/{quote_id}/delete
  GET             /quotes/{quote_id}/convert-to-invoice
  POST            /quotes/{quote_id}/convert-to-invoice
  GET             /quotes/{quote_id}/duplicate
  GET             /payments/
  GET             /payments/api
  GET             /payments/create
  POST            /payments/create
  GET             /payments/{payment_id}
  GET             /products/api
  GET             /products/api/families
  GET             /products/
  GET             /products/create
  POST            /products/create
  GET             /products/families
  GET             /products/families/create
  POST            /products/families/create
  GET             /products/units
  GET             /products/units/create
  POST            /products/units/create
  GET             /products/{product_id}
  GET             /products/{product_id}/edit
  POST            /products/{product_id}/edit
  GET             /products/families/{family_id}
  GET             /products/families/{family_id}/edit
  GET             /products/units/{unit_id}
  GET             /products/units/{unit_id}/edit
  GET             /tasks/
  GET             /tasks/create
  GET             /tasks/{task_id}
  GET             /reports/
  GET             /reports/invoices
  GET             /reports/payments
  GET             /reports/clients
  GET             /reports/invoice-aging
  GET             /settings/test-families-api
  GET             /settings/test-products-api
  GET             /settings/
  GET             /settings/company
  POST            /settings/company
  GET             /settings/users
  GET             /settings/users/create
  GET             /settings/invoice
  POST            /settings/invoice
  GET             /settings/custom-fields
  GET             /settings/email-templates
  GET             /settings/invoice-groups
  GET             /settings/invoice-archive
  GET             /settings/payment-methods
  GET             /settings/tax-rates
  GET             /settings/system
  GET             /settings/import
  POST            /settings/import/clients-sql
  POST            /settings/import/products-sql
  POST            /settings/diagnostic
  POST            /settings/import/invoices-sql
  POST            /settings/import/complete-sql
  POST            /settings/api/generate-key
  GET             /settings/api/keys
  DELETE          /settings/api/keys/{key_id}
  POST            /settings/api/keys/{key_id}/regenerate
  GET             /settings/quote-settings
  GET             /settings/email
  GET             /settings/online-payment
  GET             /settings/projects
  GET             /settings/updates
  GET             /help/
  GET             /help/faq
  GET             /help/documentation
  GET             /notifications/
  GET             /profile/
  GET             /profile/edit
  POST            /profile/edit
  GET             /profile/account
  GET             /profile/security
  GET             /tax_rates/api/debug
  POST            /tax_rates/api/save
  GET             /tax_rates/
  GET             /tax_rates/api
  POST            /tax_rates/api
  PUT             /tax_rates/api/{tax_rate_id}
  DELETE          /tax_rates/api/{tax_rate_id}
  GET             /modals/add_product_modal
  GET             /debug/routes
  GET             /
  GET             /health
==================================================

âœ… GET /auth/login exists: True
âœ… POST /auth/login exists: True
INFO:     Application startup complete.
INFO:     192.168.1.115:38152 - "GET /keepalive HTTP/1.1" 404 Not Found
INFO:     192.168.1.115:38152 - "GET /settings/import HTTP/1.1" 401 Unauthorized
WARNING:  Invalid HTTP request received.
WARNING:  Invalid HTTP request received.
INFO:     192.168.1.115:38152 - "GET / HTTP/1.1" 302 Found
INFO:     192.168.1.115:38152 - "GET /auth/login HTTP/1.1" 200 OK
2025-10-24 02:30:26,185 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:26,189 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.username = %(username_1)s OR users.email = %(email_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:26,189 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'username_1': 'admin', 'email_1': 'admin', 'param_1': 1}
2025-10-24 02:30:26,215 INFO sqlalchemy.engine.Engine UPDATE users SET last_login=now(), updated_at=now() WHERE users.id = %(users_id)s
2025-10-24 02:30:26,215 INFO sqlalchemy.engine.Engine [generated in 0.00016s] {'users_id': 1}
2025-10-24 02:30:26,216 INFO sqlalchemy.engine.Engine COMMIT
INFO:     192.168.1.115:44766 - "POST /auth/login HTTP/1.1" 302 Found
2025-10-24 02:30:26,224 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:26,226 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:26,226 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {'id_1': '1', 'param_1': 1}
INFO:     192.168.1.115:44766 - "GET / HTTP/1.1" 302 Found
2025-10-24 02:30:26,228 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.1.115:44766 - "GET /dashboard HTTP/1.1" 307 Temporary Redirect
2025-10-24 02:30:26,238 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:26,238 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:26,239 INFO sqlalchemy.engine.Engine [cached since 0.01274s ago] {'id_1': '1', 'param_1': 1}
2025-10-24 02:30:26,252 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices) AS anon_1
2025-10-24 02:30:26,252 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {}
2025-10-24 02:30:26,259 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices 
WHERE invoices.status = %(status_1)s) AS anon_1
2025-10-24 02:30:26,259 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'status_1': <InvoiceStatus.DRAFT: 1>}
2025-10-24 02:30:26,260 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices 
WHERE invoices.status = %(status_1)s) AS anon_1
2025-10-24 02:30:26,261 INFO sqlalchemy.engine.Engine [cached since 0.00193s ago] {'status_1': <InvoiceStatus.SENT: 2>}
2025-10-24 02:30:26,262 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices 
WHERE invoices.status = %(status_1)s) AS anon_1
2025-10-24 02:30:26,262 INFO sqlalchemy.engine.Engine [cached since 0.003478s ago] {'status_1': <InvoiceStatus.PAID: 4>}
2025-10-24 02:30:26,264 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices 
WHERE invoices.status = %(status_1)s) AS anon_1
2025-10-24 02:30:26,264 INFO sqlalchemy.engine.Engine [cached since 0.005239s ago] {'status_1': <InvoiceStatus.OVERDUE: 5>}
2025-10-24 02:30:26,267 INFO sqlalchemy.engine.Engine SELECT sum(invoices.total) AS sum_1 
FROM invoices 
WHERE invoices.status = %(status_1)s
2025-10-24 02:30:26,267 INFO sqlalchemy.engine.Engine [generated in 0.00025s] {'status_1': <InvoiceStatus.PAID: 4>}
2025-10-24 02:30:26,269 INFO sqlalchemy.engine.Engine SELECT sum(invoices.balance) AS sum_1 
FROM invoices 
WHERE invoices.status IN (%(status_1_1)s, %(status_1_2)s, %(status_1_3)s)
2025-10-24 02:30:26,269 INFO sqlalchemy.engine.Engine [generated in 0.00021s] {'status_1_1': <InvoiceStatus.SENT: 2>, 'status_1_2': <InvoiceStatus.VIEWED: 3>, 'status_1_3': <InvoiceStatus.OVERDUE: 5>}
2025-10-24 02:30:26,274 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT clients.is_active AS clients_is_active, clients.name AS clients_name, clients.surname AS clients_surname, clients.language AS clients_language, clients.address_1 AS clients_address_1, clients.address_2 AS clients_address_2, clients.city AS clients_city, clients.state AS clients_state, clients.zip_code AS clients_zip_code, clients.country AS clients_country, clients.phone AS clients_phone, clients.fax AS clients_fax, clients.mobile AS clients_mobile, clients.email AS clients_email, clients.website AS clients_website, clients.gender AS clients_gender, clients.birthdate AS clients_birthdate, clients.company AS clients_company, clients.vat_id AS clients_vat_id, clients.tax_code AS clients_tax_code, clients.abn AS clients_abn, clients.title AS clients_title, clients.notes AS clients_notes, clients.id AS clients_id, clients.created_at AS clients_created_at, clients.updated_at AS clients_updated_at 
FROM clients) AS anon_1
2025-10-24 02:30:26,274 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {}
2025-10-24 02:30:26,277 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT clients.is_active AS clients_is_active, clients.name AS clients_name, clients.surname AS clients_surname, clients.language AS clients_language, clients.address_1 AS clients_address_1, clients.address_2 AS clients_address_2, clients.city AS clients_city, clients.state AS clients_state, clients.zip_code AS clients_zip_code, clients.country AS clients_country, clients.phone AS clients_phone, clients.fax AS clients_fax, clients.mobile AS clients_mobile, clients.email AS clients_email, clients.website AS clients_website, clients.gender AS clients_gender, clients.birthdate AS clients_birthdate, clients.company AS clients_company, clients.vat_id AS clients_vat_id, clients.tax_code AS clients_tax_code, clients.abn AS clients_abn, clients.title AS clients_title, clients.notes AS clients_notes, clients.id AS clients_id, clients.created_at AS clients_created_at, clients.updated_at AS clients_updated_at 
FROM clients 
WHERE clients.is_active = true) AS anon_1
2025-10-24 02:30:26,277 INFO sqlalchemy.engine.Engine [generated in 0.00015s] {}
2025-10-24 02:30:26,279 INFO sqlalchemy.engine.Engine SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices ORDER BY invoices.created_at DESC 
 LIMIT %(param_1)s
2025-10-24 02:30:26,279 INFO sqlalchemy.engine.Engine [generated in 0.00009s] {'param_1': 5}
INFO:     192.168.1.115:44766 - "GET /dashboard/ HTTP/1.1" 200 OK
2025-10-24 02:30:26,291 INFO sqlalchemy.engine.Engine ROLLBACK
INFO:     192.168.1.115:44766 - "GET /settings HTTP/1.1" 307 Temporary Redirect
2025-10-24 02:30:28,579 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:28,580 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:28,580 INFO sqlalchemy.engine.Engine [cached since 2.354s ago] {'id_1': '1', 'param_1': 1}
INFO:     192.168.1.115:44766 - "GET /settings/ HTTP/1.1" 200 OK
2025-10-24 02:30:28,615 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-24 02:30:30,393 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:30,394 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:30,394 INFO sqlalchemy.engine.Engine [cached since 4.168s ago] {'id_1': '1', 'param_1': 1}
INFO:     192.168.1.115:44766 - "GET /settings/import HTTP/1.1" 200 OK
2025-10-24 02:30:30,420 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-24 02:30:43,435 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:43,436 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:43,436 INFO sqlalchemy.engine.Engine [cached since 17.21s ago] {'id_1': '1', 'param_1': 1}
2025-10-24 02:30:43,471 - INFO - Creating database session...
2025-10-24 02:30:43,472 - INFO - Database engine created
2025-10-24 02:30:43,472 - INFO - Database session created successfully
2025-10-24 02:30:43,472 - INFO - Starting family import...
2025-10-24 02:30:43,473 - INFO - Found 16 family records to import
2025-10-24 02:30:43,498 - INFO - Processing record 10/16
2025-10-24 02:30:43,504 - INFO - Successfully imported 16 families
2025-10-24 02:30:43,504 - INFO - Created 16 ID mappings for families
2025-10-24 02:30:43,508 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT ip_families.family_id AS ip_families_family_id, ip_families.family_name AS ip_families_family_name, ip_families.description AS ip_families_description, ip_families.is_active AS ip_families_is_active, ip_families.created_at AS ip_families_created_at, ip_families.updated_at AS ip_families_updated_at 
FROM ip_families) AS anon_1
2025-10-24 02:30:43,508 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {}
2025-10-24 02:30:43,508 - INFO - SELECT count(*) AS count_1 
FROM (SELECT ip_families.family_id AS ip_families_family_id, ip_families.family_name AS ip_families_family_name, ip_families.description AS ip_families_description, ip_families.is_active AS ip_families_is_active, ip_families.created_at AS ip_families_created_at, ip_families.updated_at AS ip_families_updated_at 
FROM ip_families) AS anon_1
2025-10-24 02:30:43,508 - INFO - [generated in 0.00020s] {}
2025-10-24 02:30:43,509 - INFO - Families import completed: 129 families, 16 ID mappings
2025-10-24 02:30:43,509 - INFO - Step 2: Importing tax rates...
2025-10-24 02:30:43,509 - INFO - Creating database session...
2025-10-24 02:30:43,509 - INFO - Database engine created
2025-10-24 02:30:43,509 - INFO - Database session created successfully
2025-10-24 02:30:43,509 - INFO - Starting tax rate import...
2025-10-24 02:30:43,510 - INFO - Found 1 tax rate records to import
2025-10-24 02:30:43,530 - INFO - Successfully imported 1 tax rates
2025-10-24 02:30:43,530 - INFO - Created 1 ID mappings for tax rates
2025-10-24 02:30:43,532 - INFO - SELECT count(*) AS count_1 
FROM (SELECT ip_tax_rates.tax_rate_id AS ip_tax_rates_tax_rate_id, ip_tax_rates.tax_rate_name AS ip_tax_rates_tax_rate_name, ip_tax_rates.tax_rate_percent AS ip_tax_rates_tax_rate_percent, ip_tax_rates.is_default AS ip_tax_rates_is_default, ip_tax_rates.created_at AS ip_tax_rates_created_at, ip_tax_rates.updated_at AS ip_tax_rates_updated_at 
FROM ip_tax_rates) AS anon_1
2025-10-24 02:30:43,532 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT ip_tax_rates.tax_rate_id AS ip_tax_rates_tax_rate_id, ip_tax_rates.tax_rate_name AS ip_tax_rates_tax_rate_name, ip_tax_rates.tax_rate_percent AS ip_tax_rates_tax_rate_percent, ip_tax_rates.is_default AS ip_tax_rates_is_default, ip_tax_rates.created_at AS ip_tax_rates_created_at, ip_tax_rates.updated_at AS ip_tax_rates_updated_at 
FROM ip_tax_rates) AS anon_1
2025-10-24 02:30:43,532 INFO sqlalchemy.engine.Engine [generated in 0.00013s] {}
2025-10-24 02:30:43,532 - INFO - [generated in 0.00013s] {}
2025-10-24 02:30:43,533 - INFO - Tax rates import completed: 1 tax rates, 1 ID mappings
2025-10-24 02:30:43,533 - INFO - Step 3: Importing products...
2025-10-24 02:30:43,533 - INFO - Creating database session...
2025-10-24 02:30:43,533 - INFO - Database engine created
2025-10-24 02:30:43,533 - INFO - Database session created successfully
2025-10-24 02:30:43,533 - INFO - Starting product import...
2025-10-24 02:30:43,534 - INFO - Found 22 product records to import
2025-10-24 02:30:43,534 - WARNING - Legacy family_id 1 not found in mapping, setting to None
2025-10-24 02:30:43,556 - WARNING - Legacy family_id 2 not found in mapping, setting to None
2025-10-24 02:30:43,557 - WARNING - Legacy family_id 1 not found in mapping, setting to None
2025-10-24 02:30:43,562 - WARNING - Legacy family_id 2 not found in mapping, setting to None
2025-10-24 02:30:43,566 - WARNING - Legacy family_id 3 not found in mapping, setting to None
2025-10-24 02:30:43,568 - WARNING - Legacy family_id 1 not found in mapping, setting to None
2025-10-24 02:30:43,570 - INFO - Processing record 10/22
2025-10-24 02:30:43,570 - WARNING - Legacy family_id 4 not found in mapping, setting to None
2025-10-24 02:30:43,572 - WARNING - Legacy family_id 2 not found in mapping, setting to None
2025-10-24 02:30:43,574 - WARNING - Legacy family_id 2 not found in mapping, setting to None
2025-10-24 02:30:43,576 - WARNING - Legacy family_id 2 not found in mapping, setting to None
2025-10-24 02:30:43,582 - WARNING - Skipping product without name: {'product_id': '1x16GB'}
2025-10-24 02:30:43,583 - WARNING - Skipping product without name: {'product_id': '2 x Type-A'}
2025-10-24 02:30:43,584 - WARNING - Skipping product without name: {'product_id': '2 x Type-A'}
2025-10-24 02:30:43,585 - WARNING - Skipping product without name: {'product_id': 'purple'}
2025-10-24 02:30:43,585 - INFO - Processing record 20/22
2025-10-24 02:30:43,586 - WARNING - Skipping product without name: {'product_id': 'green'}
2025-10-24 02:30:43,587 - WARNING - Skipping product without name: {'product_id': 'W/H/D'}
2025-10-24 02:30:43,587 - WARNING - Legacy family_id 6 not found in mapping, setting to None
2025-10-24 02:30:43,590 - INFO - Successfully imported 16 products
2025-10-24 02:30:43,590 - WARNING - Skipped 6 records due to errors
2025-10-24 02:30:43,590 - INFO - Created 16 ID mappings for products
2025-10-24 02:30:43,597 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT ip_products.product_id AS ip_products_product_id, ip_products.product_name AS ip_products_product_name, ip_products.product_description AS ip_products_product_description, ip_products.product_price AS ip_products_product_price, ip_products.product_sku AS ip_products_product_sku, ip_products.tax_rate AS ip_products_tax_rate, ip_products.provider_name AS ip_products_provider_name, ip_products.purchase_price AS ip_products_purchase_price, ip_products.sumex AS ip_products_sumex, ip_products.product_tariff AS ip_products_product_tariff, ip_products.user_id AS ip_products_user_id, ip_products.family_id AS ip_products_family_id, ip_products.unit_id AS ip_products_unit_id, ip_products.tax_rate_id AS ip_products_tax_rate_id, ip_products.is_active AS ip_products_is_active, ip_products.created_at AS ip_products_created_at, ip_products.updated_at AS ip_products_updated_at 
FROM ip_products) AS anon_1
2025-10-24 02:30:43,597 INFO sqlalchemy.engine.Engine [generated in 0.00020s] {}
2025-10-24 02:30:43,597 - INFO - SELECT count(*) AS count_1 
FROM (SELECT ip_products.product_id AS ip_products_product_id, ip_products.product_name AS ip_products_product_name, ip_products.product_description AS ip_products_product_description, ip_products.product_price AS ip_products_product_price, ip_products.product_sku AS ip_products_product_sku, ip_products.tax_rate AS ip_products_tax_rate, ip_products.provider_name AS ip_products_provider_name, ip_products.purchase_price AS ip_products_purchase_price, ip_products.sumex AS ip_products_sumex, ip_products.product_tariff AS ip_products_product_tariff, ip_products.user_id AS ip_products_user_id, ip_products.family_id AS ip_products_family_id, ip_products.unit_id AS ip_products_unit_id, ip_products.tax_rate_id AS ip_products_tax_rate_id, ip_products.is_active AS ip_products_is_active, ip_products.created_at AS ip_products_created_at, ip_products.updated_at AS ip_products_updated_at 
FROM ip_products) AS anon_1
2025-10-24 02:30:43,597 - INFO - [generated in 0.00020s] {}
2025-10-24 02:30:43,598 - INFO - Products import completed: 97 products, 16 ID mappings
2025-10-24 02:30:43,598 - INFO - Step 4: Importing clients...
2025-10-24 02:30:43,598 - INFO - Creating database session...
2025-10-24 02:30:43,598 - INFO - Database engine created
2025-10-24 02:30:43,599 - INFO - Database session created successfully
2025-10-24 02:30:43,599 - INFO - Starting client import...
2025-10-24 02:30:43,602 - INFO - Found 45 client records to import
2025-10-24 02:30:43,627 - INFO - Processing record 10/45
2025-10-24 02:30:43,635 - INFO - Processing record 20/45
2025-10-24 02:30:43,644 - INFO - Processing record 30/45
2025-10-24 02:30:43,653 - INFO - Processing record 40/45
2025-10-24 02:30:43,660 - INFO - Successfully imported 45 clients
2025-10-24 02:30:43,660 - INFO - Created 45 ID mappings for clients
2025-10-24 02:30:43,660 - INFO - SELECT count(*) AS count_1 
FROM (SELECT clients.is_active AS clients_is_active, clients.name AS clients_name, clients.surname AS clients_surname, clients.language AS clients_language, clients.address_1 AS clients_address_1, clients.address_2 AS clients_address_2, clients.city AS clients_city, clients.state AS clients_state, clients.zip_code AS clients_zip_code, clients.country AS clients_country, clients.phone AS clients_phone, clients.fax AS clients_fax, clients.mobile AS clients_mobile, clients.email AS clients_email, clients.website AS clients_website, clients.gender AS clients_gender, clients.birthdate AS clients_birthdate, clients.company AS clients_company, clients.vat_id AS clients_vat_id, clients.tax_code AS clients_tax_code, clients.abn AS clients_abn, clients.title AS clients_title, clients.notes AS clients_notes, clients.id AS clients_id, clients.created_at AS clients_created_at, clients.updated_at AS clients_updated_at 
FROM clients) AS anon_1
2025-10-24 02:30:43,660 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
FROM (SELECT clients.is_active AS clients_is_active, clients.name AS clients_name, clients.surname AS clients_surname, clients.language AS clients_language, clients.address_1 AS clients_address_1, clients.address_2 AS clients_address_2, clients.city AS clients_city, clients.state AS clients_state, clients.zip_code AS clients_zip_code, clients.country AS clients_country, clients.phone AS clients_phone, clients.fax AS clients_fax, clients.mobile AS clients_mobile, clients.email AS clients_email, clients.website AS clients_website, clients.gender AS clients_gender, clients.birthdate AS clients_birthdate, clients.company AS clients_company, clients.vat_id AS clients_vat_id, clients.tax_code AS clients_tax_code, clients.abn AS clients_abn, clients.title AS clients_title, clients.notes AS clients_notes, clients.id AS clients_id, clients.created_at AS clients_created_at, clients.updated_at AS clients_updated_at 
FROM clients) AS anon_1
2025-10-24 02:30:43,660 - INFO - [cached since 17.39s ago] {}
2025-10-24 02:30:43,660 INFO sqlalchemy.engine.Engine [cached since 17.39s ago] {}
2025-10-24 02:30:43,661 - INFO - Clients import completed: 270 clients, 45 ID mappings
2025-10-24 02:30:43,661 - INFO - Step 5: Importing invoices...
2025-10-24 02:30:43,661 - INFO - Client ID mapping has 45 entries
2025-10-24 02:30:43,661 - INFO - Product ID mapping has 16 entries
2025-10-24 02:30:43,661 - INFO - import_invoices function called
2025-10-24 02:30:43,661 - INFO - client_id_mapping: True (45 entries)
2025-10-24 02:30:43,661 - INFO - product_id_mapping: True (16 entries)
2025-10-24 02:30:43,661 - INFO - Using SQL file: /tmp/tmpmmsyy64m.sql
2025-10-24 02:30:43,661 - INFO - Creating database session...
2025-10-24 02:30:43,662 - INFO - Database engine created
2025-10-24 02:30:43,662 - INFO - Database session created successfully
2025-10-24 02:30:43,662 - INFO - Database session created successfully
2025-10-24 02:30:43,662 - INFO - Starting invoice import...
2025-10-24 02:30:43,662 - INFO - Reading from SQL file: /tmp/tmpmmsyy64m.sql
2025-10-24 02:30:43,664 - INFO - Tables found in SQL file: ['ip_client_custom', 'ip_client_notes', 'ip_clients', 'ip_custom_fields', 'ip_custom_values', 'ip_email_templates', 'ip_families', 'ip_import_details', 'ip_imports', 'ip_invoice_amounts', 'ip_invoice_custom', 'ip_invoice_groups', 'ip_invoice_item_amounts', 'ip_invoice_items', 'ip_invoice_sumex', 'ip_invoice_tax_rates', 'ip_invoices', 'ip_invoices_recurring', 'ip_item_lookups', 'ip_login_log', 'ip_merchant_responses', 'ip_payment_custom', 'ip_payment_methods', 'ip_payments', 'ip_products', 'ip_projects', 'ip_quote_amounts', 'ip_quote_custom', 'ip_quote_item_amounts', 'ip_quote_items', 'ip_quote_tax_rates', 'ip_quotes', 'ip_sessions', 'ip_settings', 'ip_tasks', 'ip_tax_rates', 'ip_units', 'ip_uploads', 'ip_user_clients', 'ip_user_custom', 'ip_users', 'ip_versions']
2025-10-24 02:30:43,672 - INFO - Found 78 invoice records to import
2025-10-24 02:30:43,672 - INFO - Parsing all invoice items...
2025-10-24 02:30:43,674 - INFO - Found 48 total invoice item records in SQL file
2025-10-24 02:30:43,674 - INFO - Grouped items into 23 invoice groups
2025-10-24 02:30:43,674 - INFO - Total items across all invoices: 42
2025-10-24 02:30:43,674 - INFO - Invoice 2: 2 items
2025-10-24 02:30:43,674 - INFO - Sample item: {'item_id': '1', 'invoice_id': '2', 'item_tax_rate_id': '0', 'item_product_id': '2', 'item_date_added': '2022-12-14', 'item_task_id': 'NULL', 'item_name': 'Orico 2.5 Inch Hard Drive Adapter', 'item_description': 'Turns your 2.5 inch SATA HDD / SSD into 3.5 inch so you can install it into your desktop PC', 'item_quantity': '1.00', 'item_price': '20.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,674 - INFO - Invoice 6: 1 items
2025-10-24 02:30:43,674 - INFO - Sample item: {'item_id': '7', 'invoice_id': '6', 'item_tax_rate_id': '0', 'item_product_id': '1', 'item_date_added': '2023-01-08', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': 'Troubleshoot and setup modem and wireless router.\\nTest internet connection the VoIP', 'item_quantity': '0.25', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,674 - INFO - Invoice 10: 1 items
2025-10-24 02:30:43,674 - INFO - Sample item: {'item_id': '8', 'invoice_id': '10', 'item_tax_rate_id': '2', 'item_product_id': 'NULL', 'item_date_added': '2023-02-01', 'item_task_id': 'NULL', 'item_name': 'hour support', 'item_description': 'consult on wireless dongle\\nupdate bios\\ninstall google chrome\\ninstall antivirus', 'item_quantity': '1.00', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,700 - INFO - Processing items for invoice 2 (new ID: 1848)
2025-10-24 02:30:43,700 - INFO - Found 2 items for invoice 2
2025-10-24 02:30:43,700 - INFO - Sample item for invoice 2: {'item_id': '1', 'invoice_id': '2', 'item_tax_rate_id': '0', 'item_product_id': '2', 'item_date_added': '2022-12-14', 'item_task_id': 'NULL', 'item_name': 'Orico 2.5 Inch Hard Drive Adapter', 'item_description': 'Turns your 2.5 inch SATA HDD / SSD into 3.5 inch so you can install it into your desktop PC', 'item_quantity': '1.00', 'item_price': '20.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,704 - ERROR - Error processing invoice 2 (1): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(166) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) SELECT p0::INTEGER, p1::INTEGER, p2::VARCHAR, p3::TEXT, p4::NUMERIC(10, 2), p5::NUME ... 709 characters truncated ... NING invoice_items.id, invoice_items.created_at, invoice_items.updated_at, invoice_items.id AS id__1]
[parameters: {'product_id__0': 166, 'price__0': Decimal('20.00'), 'invoice_id__0': 1848, 'subtotal__0': Decimal('20.0000'), 'name__0': 'Orico 2.5 Inch Hard Drive Adapter', 'description__0': 'Turns your 2.5 inch SATA HDD / SSD into 3.5 inch so you can install it into your desktop PC', 'quantity__0': Decimal('1.00'), 'discount_amount__0': Decimal('0.0'), 'total__0': Decimal('22.00000'), 'order__0': '1', 'tax_amount__0': Decimal('2.00000'), 'product_id__1': 165, 'price__1': Decimal('100.00'), 'invoice_id__1': 1848, 'subtotal__1': Decimal('25.0000'), 'name__1': 'PC service', 'description__1': '', 'quantity__1': Decimal('0.25'), 'discount_amount__1': Decimal('0.0'), 'total__1': Decimal('27.50000'), 'order__1': '2', 'tax_amount__1': Decimal('2.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,704 - ERROR - Invoice data: {'invoice_id': '2', 'user_id': '1', 'client_id': '1', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2022-12-14', 'invoice_time_created': '00:01:40', 'invoice_date_modified': '2022-12-14 01:47:02', 'invoice_date_due': '2022-12-28', 'invoice_number': '1', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nAptitude Technology\\nAccount: 612983287\\nBSB: 013943\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': '24NqS9UD7KbJjMrk0dLCPXRYB5fzVG6t', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,707 - INFO - Processing items for invoice 15 (new ID: 1849)
2025-10-24 02:30:43,707 - INFO - Found 1 items for invoice 15
2025-10-24 02:30:43,707 - INFO - Sample item for invoice 15: {'item_id': '13', 'invoice_id': '15', 'item_tax_rate_id': '2', 'item_product_id': '1', 'item_date_added': '2023-05-03', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': '', 'item_quantity': '1.00', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,710 - ERROR - Error processing invoice 15 (66): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(165) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1849, 'product_id': 165, 'name': 'PC service', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('100.00'), 'order': '1', 'subtotal': Decimal('100.0000'), 'tax_amount': Decimal('10.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('110.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,711 - ERROR - Invoice data: {'invoice_id': '15', 'user_id': '1', 'client_id': '1', 'invoice_group_id': '3', 'invoice_status_id': '1', 'is_read_only': 'NULL', 'invoice_password': '', 'invoice_date_created': '2023-05-03', 'invoice_time_created': '10:33:35', 'invoice_date_modified': '2023-05-03 10:34:26', 'invoice_date_due': '2023-05-17', 'invoice_number': '66', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nAccount: 612983287\\nBSB: 013943\\nANZ - Airwallex Pty Ltd\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'gSNlfDcuXoZAVaUMOEezxGtCb45FHhTK', 'payment_method': '0', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,713 - INFO - Processing items for invoice 6 (new ID: 1850)
2025-10-24 02:30:43,713 - INFO - Found 1 items for invoice 6
2025-10-24 02:30:43,713 - INFO - Sample item for invoice 6: {'item_id': '7', 'invoice_id': '6', 'item_tax_rate_id': '0', 'item_product_id': '1', 'item_date_added': '2023-01-08', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': 'Troubleshoot and setup modem and wireless router.\\nTest internet connection the VoIP', 'item_quantity': '0.25', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,715 - ERROR - Error processing invoice 6 (2): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(165) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1850, 'product_id': 165, 'name': 'PC service', 'description': 'Troubleshoot and setup modem and wireless router.\\nTest internet connection the VoIP', 'quantity': Decimal('0.25'), 'price': Decimal('100.00'), 'order': '1', 'subtotal': Decimal('25.0000'), 'tax_amount': Decimal('2.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('27.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,715 - ERROR - Invoice data: {'invoice_id': '6', 'user_id': '1', 'client_id': '2', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-01-08', 'invoice_time_created': '02:59:33', 'invoice_date_modified': '2023-01-08 03:39:33', 'invoice_date_due': '2023-01-22', 'invoice_number': '2', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nAccount: 612983287\\nBSB: 013943\\nANZ - Airwallex Pty Ltd\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'PchWN30j7bZlJyH1nCQ6UgaYF89wrRfs', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,718 - INFO - Processing items for invoice 16 (new ID: 1851)
2025-10-24 02:30:43,718 - INFO - Found 1 items for invoice 16
2025-10-24 02:30:43,718 - INFO - Sample item for invoice 16: {'item_id': '14', 'invoice_id': '16', 'item_tax_rate_id': '2', 'item_product_id': '5', 'item_date_added': '2023-05-04', 'item_task_id': 'NULL', 'item_name': 'Silicon Power Ace A55 1TB TLC 3D NAND 2.5in SATA III SSD', 'item_description': 'Tentative invoice to cover 2.5\\" SSD that is in clients machine and was installed in the available 2.5\\" SATA slot.\\nWe are at a fork in the road (so to speak'}
2025-10-24 02:30:43,718 - WARNING - Skipping invoice item without quantity: {'item_id': '14', 'invoice_id': '16', 'item_tax_rate_id': '2', 'item_product_id': '5', 'item_date_added': '2023-05-04', 'item_task_id': 'NULL', 'item_name': 'Silicon Power Ace A55 1TB TLC 3D NAND 2.5in SATA III SSD', 'item_description': 'Tentative invoice to cover 2.5\\" SSD that is in clients machine and was installed in the available 2.5\\" SATA slot.\\nWe are at a fork in the road (so to speak'}
2025-10-24 02:30:43,720 - INFO - Created 0 invoice items for invoice 1851
2025-10-24 02:30:43,720 - INFO - Items processed: 0, items skipped: 1
2025-10-24 02:30:43,720 - INFO - Successfully imported invoice 6 (ID: 1851)
2025-10-24 02:30:43,723 - INFO - Processing items for invoice 17 (new ID: 1852)
2025-10-24 02:30:43,723 - INFO - Found 2 items for invoice 17
2025-10-24 02:30:43,723 - INFO - Sample item for invoice 17: {'item_id': '15', 'invoice_id': '17', 'item_tax_rate_id': '2', 'item_product_id': '6', 'item_date_added': '2023-05-09', 'item_task_id': 'NULL', 'item_name': 'Crucial MX500 2TB 3D NAND SATA 6Gbps 2.5in SSD 560MB/s 510MB/s', 'item_description': 'New faster and higher capacity storage device to replace slow and smaller capacity C drive.', 'item_quantity': '1.00', 'item_price': '179.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,724 - WARNING - Skipping invoice item without quantity: {'item_id': '16', 'invoice_id': '17', 'item_tax_rate_id': '2', 'item_product_id': '7', 'item_date_added': '2023-05-09', 'item_task_id': 'NULL', 'item_name': 'Corsair 8GB (1x8GB'}
2025-10-24 02:30:43,725 - ERROR - Error processing invoice 17 (7): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(170) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1852, 'product_id': 170, 'name': 'Crucial MX500 2TB 3D NAND SATA 6Gbps 2.5in SSD 560MB/s 510MB/s', 'description': 'New faster and higher capacity storage device to replace slow and smaller capacity C drive.', 'quantity': Decimal('1.00'), 'price': Decimal('179.00'), 'order': '1', 'subtotal': Decimal('179.0000'), 'tax_amount': Decimal('17.90000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('196.90000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,725 - ERROR - Invoice data: {'invoice_id': '17', 'user_id': '1', 'client_id': '6', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-05-09', 'invoice_time_created': '10:58:24', 'invoice_date_modified': '2023-05-09 11:01:19', 'invoice_date_due': '2023-05-23', 'invoice_number': '7', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'mGJZtqX1epsH57w8yrdnga6z3FvCIfUV', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,728 - INFO - Processing items for invoice 10 (new ID: 1853)
2025-10-24 02:30:43,728 - INFO - Found 1 items for invoice 10
2025-10-24 02:30:43,728 - INFO - Sample item for invoice 10: {'item_id': '8', 'invoice_id': '10', 'item_tax_rate_id': '2', 'item_product_id': 'NULL', 'item_date_added': '2023-02-01', 'item_task_id': 'NULL', 'item_name': 'hour support', 'item_description': 'consult on wireless dongle\\nupdate bios\\ninstall google chrome\\ninstall antivirus', 'item_quantity': '1.00', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,730 - INFO - Created 1 invoice items for invoice 1853
2025-10-24 02:30:43,730 - INFO - Items processed: 1, items skipped: 0
2025-10-24 02:30:43,731 - INFO - Successfully imported invoice 3 (ID: 1853)
2025-10-24 02:30:43,734 - INFO - Processing items for invoice 18 (new ID: 1854)
2025-10-24 02:30:43,734 - INFO - Found 1 items for invoice 18
2025-10-24 02:30:43,734 - INFO - Sample item for invoice 18: {'item_id': '17', 'invoice_id': '18', 'item_tax_rate_id': '2', 'item_product_id': '1', 'item_date_added': '2023-05-23', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': '', 'item_quantity': '0.50', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,736 - ERROR - Error processing invoice 18 (8): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(165) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1854, 'product_id': 165, 'name': 'PC service', 'description': '', 'quantity': Decimal('0.50'), 'price': Decimal('100.00'), 'order': '1', 'subtotal': Decimal('50.0000'), 'tax_amount': Decimal('5.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('55.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,736 - ERROR - Invoice data: {'invoice_id': '18', 'user_id': '1', 'client_id': '8', 'invoice_group_id': '3', 'invoice_status_id': '3', 'is_read_only': 'NULL', 'invoice_password': '', 'invoice_date_created': '2023-05-23', 'invoice_time_created': '02:52:36', 'invoice_date_modified': '2023-05-23 02:54:37', 'invoice_date_due': '2023-06-06', 'invoice_number': '8', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'mgIBK7DriCRtvnPG1S4e0pu5aWFTxJNd', 'payment_method': '0', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,739 - INFO - Processing items for invoice 13 (new ID: 1855)
2025-10-24 02:30:43,739 - INFO - Found 1 items for invoice 13
2025-10-24 02:30:43,739 - INFO - Sample item for invoice 13: {'item_id': '9', 'invoice_id': '13', 'item_tax_rate_id': '2', 'item_product_id': '1', 'item_date_added': '2023-04-30', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': 'run diagnostics on HP Pavilion desktop\\ncreate backup image\\ninstall HP recovery image\\nrecover files from backup image\\n', 'item_quantity': '2.00', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,741 - ERROR - Error processing invoice 13 (4): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(165) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1855, 'product_id': 165, 'name': 'PC service', 'description': 'run diagnostics on HP Pavilion desktop\\ncreate backup image\\ninstall HP recovery image\\nrecover files from backup image\\n', 'quantity': Decimal('2.00'), 'price': Decimal('100.00'), 'order': '1', 'subtotal': Decimal('200.0000'), 'tax_amount': Decimal('20.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('220.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,741 - ERROR - Invoice data: {'invoice_id': '13', 'user_id': '1', 'client_id': '4', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-04-30', 'invoice_time_created': '10:32:20', 'invoice_date_modified': '2023-04-30 10:37:50', 'invoice_date_due': '2023-05-14', 'invoice_number': '4', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nAccount: 612983287\\nBSB: 013943\\nANZ - Airwallex Pty Ltd\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'dW2RyOxtG0fMH3TpQlYmUE9Ag87zhe5s', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,744 - INFO - Processing items for invoice 14 (new ID: 1856)
2025-10-24 02:30:43,744 - INFO - Found 2 items for invoice 14
2025-10-24 02:30:43,744 - INFO - Sample item for invoice 14: {'item_id': '10', 'invoice_id': '14', 'item_tax_rate_id': '2', 'item_product_id': '3', 'item_date_added': '2023-05-02', 'item_task_id': 'NULL', 'item_name': 'hours contract rate', 'item_description': 'Work completed for Phil & Jane King.\\nInstall SSD and m2. NVME drive in HP laptop\\nreinstall Windows\\nrecover data\\nsetup Office software\\nsetup printer\\nmisc configurations', 'item_quantity': '4.00', 'item_price': '60.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,746 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(167) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1856, 'product_id': 167, 'name': 'hours contract rate', 'description': 'Work completed for Phil & Jane King.\\nInstall SSD and m2. NVME drive in HP laptop\\nreinstall Windows\\nrecover data\\nsetup Office software\\nsetup printer\\nmisc configurations', 'quantity': Decimal('4.00'), 'price': Decimal('60.00'), 'order': '1', 'subtotal': Decimal('240.0000'), 'tax_amount': Decimal('24.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('264.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,746 - ERROR - Error processing invoice 14 (5): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(167) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1856, 'product_id': 167, 'name': 'hours contract rate', 'description': 'Work completed for Phil & Jane King.\\nInstall SSD and m2. NVME drive in HP laptop\\nreinstall Windows\\nrecover data\\nsetup Office software\\nsetup printer\\nmisc configurations', 'quantity': Decimal('4.00'), 'price': Decimal('60.00'), 'order': '1', 'subtotal': Decimal('240.0000'), 'tax_amount': Decimal('24.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('264.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,746 - ERROR - Invoice data: {'invoice_id': '14', 'user_id': '1', 'client_id': '5', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-05-02', 'invoice_time_created': '10:29:19', 'invoice_date_modified': '2023-05-04 09:29:49', 'invoice_date_due': '2023-05-16', 'invoice_number': '5', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nAccount: 612983287\\nBSB: 013943\\nANZ - Airwallex Pty Ltd\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'YEd1WeLiC9A6oUcPBlQjtn5mK4NOqays', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
/app/importdb/import_legacy_data.py:975: SAWarning: Session's state has been changed on a non-active transaction - this state will be discarded.
  session.rollback()
2025-10-24 02:30:43,747 - INFO - Processing record 10/78
2025-10-24 02:30:43,750 - INFO - Processing items for invoice 19 (new ID: 1857)
2025-10-24 02:30:43,750 - INFO - Found 1 items for invoice 19
2025-10-24 02:30:43,750 - INFO - Sample item for invoice 19: {'item_id': '18', 'invoice_id': '19', 'item_tax_rate_id': '2', 'item_product_id': '8', 'item_date_added': '2023-05-28', 'item_task_id': 'NULL', 'item_name': 'Microsoft 365 Family 2021 English APAC 1 Year Subscription Medialess for PC & Mac', 'item_description': '', 'item_quantity': '1.00', 'item_price': '110.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,752 - ERROR - Error processing invoice 19 (9): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(172) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1857, 'product_id': 172, 'name': 'Microsoft 365 Family 2021 English APAC 1 Year Subscription Medialess for PC & Mac', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('110.00'), 'order': '1', 'subtotal': Decimal('110.0000'), 'tax_amount': Decimal('11.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('121.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,752 - ERROR - Invoice data: {'invoice_id': '19', 'user_id': '1', 'client_id': '9', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-05-28', 'invoice_time_created': '01:24:46', 'invoice_date_modified': '2023-05-31 23:12:20', 'invoice_date_due': '2023-06-11', 'invoice_number': '9', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'CT6Bin38GkE4DyAHbp7heg2X9vumJZ1x', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,754 - INFO - Processing items for invoice 20 (new ID: 1858)
2025-10-24 02:30:43,754 - INFO - Found 1 items for invoice 20
2025-10-24 02:30:43,754 - INFO - Sample item for invoice 20: {'item_id': '19', 'invoice_id': '20', 'item_tax_rate_id': '2', 'item_product_id': '9', 'item_date_added': '2023-06-19', 'item_task_id': 'NULL', 'item_name': 'hours service home', 'item_description': 'installed EMclient for e-mail\\ninstall Malware bytes and scanner computer\\nuninstalled old programs\\ninstalled foxit pdf\\nconsulted on upgrade path', 'item_quantity': '1.50', 'item_price': '50.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,756 - ERROR - Error processing invoice 20 (10): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(173) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1858, 'product_id': 173, 'name': 'hours service home', 'description': 'installed EMclient for e-mail\\ninstall Malware bytes and scanner computer\\nuninstalled old programs\\ninstalled foxit pdf\\nconsulted on upgrade path', 'quantity': Decimal('1.50'), 'price': Decimal('50.00'), 'order': '1', 'subtotal': Decimal('75.0000'), 'tax_amount': Decimal('7.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('82.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,756 - ERROR - Invoice data: {'invoice_id': '20', 'user_id': '1', 'client_id': '10', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-06-19', 'invoice_time_created': '08:44:34', 'invoice_date_modified': '2023-06-19 08:55:04', 'invoice_date_due': '2023-07-03', 'invoice_number': '10', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'RdgbclFiohfZzB24VvJuU368ETeqarw7', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,759 - INFO - Processing items for invoice 21 (new ID: 1859)
2025-10-24 02:30:43,759 - INFO - Found 2 items for invoice 21
2025-10-24 02:30:43,759 - INFO - Sample item for invoice 21: {'item_id': '20', 'invoice_id': '21', 'item_tax_rate_id': '2', 'item_product_id': '5', 'item_date_added': '2023-06-21', 'item_task_id': 'NULL', 'item_name': 'Silicon Power Ace A55 1TB TLC 3D NAND 2.5in SATA III SSD', 'item_description': 'New SSD drive to increase the speed and storage capacity of your Toshiba laptop.', 'item_quantity': '1.00', 'item_price': '67.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,761 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(169) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1859, 'product_id': 169, 'name': 'Silicon Power Ace A55 1TB TLC 3D NAND 2.5in SATA III SSD', 'description': 'New SSD drive to increase the speed and storage capacity of your Toshiba laptop.', 'quantity': Decimal('1.00'), 'price': Decimal('67.00'), 'order': '1', 'subtotal': Decimal('67.0000'), 'tax_amount': Decimal('6.70000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('73.70000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,761 - ERROR - Error processing invoice 21 (11): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(169) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1859, 'product_id': 169, 'name': 'Silicon Power Ace A55 1TB TLC 3D NAND 2.5in SATA III SSD', 'description': 'New SSD drive to increase the speed and storage capacity of your Toshiba laptop.', 'quantity': Decimal('1.00'), 'price': Decimal('67.00'), 'order': '1', 'subtotal': Decimal('67.0000'), 'tax_amount': Decimal('6.70000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('73.70000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,761 - ERROR - Invoice data: {'invoice_id': '21', 'user_id': '1', 'client_id': '10', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-06-21', 'invoice_time_created': '05:12:43', 'invoice_date_modified': '2023-06-21 05:13:12', 'invoice_date_due': '2023-07-05', 'invoice_number': '11', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': '8co9RwQafyknql51WG7AtsCIhdj3zO0g', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,764 - INFO - Processing items for invoice 22 (new ID: 1860)
2025-10-24 02:30:43,764 - INFO - Found 2 items for invoice 22
2025-10-24 02:30:43,764 - INFO - Sample item for invoice 22: {'item_id': '22', 'invoice_id': '22', 'item_tax_rate_id': '2', 'item_product_id': '10', 'item_date_added': '2023-07-26', 'item_task_id': 'NULL', 'item_name': 'Vision Australia Keyboard', 'item_description': '', 'item_quantity': '1.00', 'item_price': '15.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,766 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(174) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1860, 'product_id': 174, 'name': 'Vision Australia Keyboard', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('15.00'), 'order': '1', 'subtotal': Decimal('15.0000'), 'tax_amount': Decimal('1.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('16.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,767 - ERROR - Error processing invoice 22 (12): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(174) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1860, 'product_id': 174, 'name': 'Vision Australia Keyboard', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('15.00'), 'order': '1', 'subtotal': Decimal('15.0000'), 'tax_amount': Decimal('1.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('16.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,767 - ERROR - Invoice data: {'invoice_id': '22', 'user_id': '1', 'client_id': '11', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-07-26', 'invoice_time_created': '03:59:01', 'invoice_date_modified': '2023-07-28 05:31:07', 'invoice_date_due': '2023-08-09', 'invoice_number': '12', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'MUxFIX1Lc8hzDlfVBR4reENOni970sKp', 'payment_method': '1', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,770 - INFO - Processing items for invoice 30 (new ID: 1861)
2025-10-24 02:30:43,770 - INFO - Found 2 items for invoice 30
2025-10-24 02:30:43,770 - INFO - Sample item for invoice 30: {'item_id': '42', 'invoice_id': '30', 'item_tax_rate_id': '2', 'item_product_id': '14', 'item_date_added': '2023-12-28', 'item_task_id': 'NULL', 'item_name': 'dvi to display port cable', 'item_description': 'change display port cable on monitor.\\nDelete contents of \\"socials\\" in gmail.', 'item_quantity': '1.00', 'item_price': '10.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,772 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(178) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1861, 'product_id': 178, 'name': 'dvi to display port cable', 'description': 'change display port cable on monitor.\\nDelete contents of \\"socials\\" in gmail.', 'quantity': Decimal('1.00'), 'price': Decimal('10.00'), 'order': '1', 'subtotal': Decimal('10.0000'), 'tax_amount': Decimal('1.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('11.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,772 - ERROR - Error processing invoice 30 (19): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(178) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1861, 'product_id': 178, 'name': 'dvi to display port cable', 'description': 'change display port cable on monitor.\\nDelete contents of \\"socials\\" in gmail.', 'quantity': Decimal('1.00'), 'price': Decimal('10.00'), 'order': '1', 'subtotal': Decimal('10.0000'), 'tax_amount': Decimal('1.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('11.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,772 - ERROR - Invoice data: {'invoice_id': '30', 'user_id': '1', 'client_id': '19', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-12-28', 'invoice_time_created': '01:14:48', 'invoice_date_modified': '2023-12-28 01:52:14', 'invoice_date_due': '2024-01-11', 'invoice_number': '19', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'VM2pbzlI5gG9Zkn6Sq40AtLPDhCxidfN', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,775 - INFO - Processing items for invoice 24 (new ID: 1862)
2025-10-24 02:30:43,775 - INFO - Found 1 items for invoice 24
2025-10-24 02:30:43,775 - INFO - Sample item for invoice 24: {'item_id': '25', 'invoice_id': '24', 'item_tax_rate_id': '2', 'item_product_id': '9', 'item_date_added': '2023-08-04', 'item_task_id': 'NULL', 'item_name': 'hours service home', 'item_description': 'recover Windows 10\\nsetup MS account\\ninstall printers\\nsetup software\\nimport bookmarks', 'item_quantity': '1.00', 'item_price': '50.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,777 - ERROR - Error processing invoice 24 (13): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(173) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1862, 'product_id': 173, 'name': 'hours service home', 'description': 'recover Windows 10\\nsetup MS account\\ninstall printers\\nsetup software\\nimport bookmarks', 'quantity': Decimal('1.00'), 'price': Decimal('50.00'), 'order': '1', 'subtotal': Decimal('50.0000'), 'tax_amount': Decimal('5.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('55.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,777 - ERROR - Invoice data: {'invoice_id': '24', 'user_id': '1', 'client_id': '12', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-08-04', 'invoice_time_created': '02:56:03', 'invoice_date_modified': '2023-08-04 02:58:11', 'invoice_date_due': '2023-08-18', 'invoice_number': '13', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'TKIWp5FVSUsEYXka8rNw63xBvyLnmHCd', 'payment_method': '1', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,779 - INFO - Processing items for invoice 25 (new ID: 1863)
2025-10-24 02:30:43,780 - INFO - Found 3 items for invoice 25
2025-10-24 02:30:43,780 - INFO - Sample item for invoice 25: {'item_id': '27', 'invoice_id': '25', 'item_tax_rate_id': '0', 'item_product_id': '11', 'item_date_added': '2023-09-14', 'item_task_id': 'NULL', 'item_name': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'item_description': '', 'item_quantity': '1.00', 'item_price': '145.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,781 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(175) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) SELECT p0::INTEGER, p1::INTEGER, p2::VARCHAR, p3::TEXT, p4::NUMERIC(10, 2), p5::NUME ... 709 characters truncated ... NING invoice_items.id, invoice_items.created_at, invoice_items.updated_at, invoice_items.id AS id__1]
[parameters: {'product_id__0': 175, 'price__0': Decimal('145.00'), 'invoice_id__0': 1863, 'subtotal__0': Decimal('145.0000'), 'name__0': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'description__0': '', 'quantity__0': Decimal('1.00'), 'discount_amount__0': Decimal('0.0'), 'total__0': Decimal('159.50000'), 'order__0': '1', 'tax_amount__0': Decimal('14.50000'), 'product_id__1': 166, 'price__1': Decimal('20.00'), 'invoice_id__1': 1863, 'subtotal__1': Decimal('20.0000'), 'name__1': 'Orico 2.5 Inch Hard Drive Adapter', 'description__1': 'Turns your 2.5 inch SATA HDD / SSD into 3.5 inch so you can install it into your desktop PC', 'quantity__1': Decimal('1.00'), 'discount_amount__1': Decimal('0.0'), 'total__1': Decimal('22.00000'), 'order__1': '2', 'tax_amount__1': Decimal('2.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,782 - ERROR - Error processing invoice 25 (14): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(175) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) SELECT p0::INTEGER, p1::INTEGER, p2::VARCHAR, p3::TEXT, p4::NUMERIC(10, 2), p5::NUME ... 709 characters truncated ... NING invoice_items.id, invoice_items.created_at, invoice_items.updated_at, invoice_items.id AS id__1]
[parameters: {'product_id__0': 175, 'price__0': Decimal('145.00'), 'invoice_id__0': 1863, 'subtotal__0': Decimal('145.0000'), 'name__0': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'description__0': '', 'quantity__0': Decimal('1.00'), 'discount_amount__0': Decimal('0.0'), 'total__0': Decimal('159.50000'), 'order__0': '1', 'tax_amount__0': Decimal('14.50000'), 'product_id__1': 166, 'price__1': Decimal('20.00'), 'invoice_id__1': 1863, 'subtotal__1': Decimal('20.0000'), 'name__1': 'Orico 2.5 Inch Hard Drive Adapter', 'description__1': 'Turns your 2.5 inch SATA HDD / SSD into 3.5 inch so you can install it into your desktop PC', 'quantity__1': Decimal('1.00'), 'discount_amount__1': Decimal('0.0'), 'total__1': Decimal('22.00000'), 'order__1': '2', 'tax_amount__1': Decimal('2.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,782 - ERROR - Invoice data: {'invoice_id': '25', 'user_id': '1', 'client_id': '13', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-09-14', 'invoice_time_created': '09:37:00', 'invoice_date_modified': '2023-09-14 09:44:00', 'invoice_date_due': '2023-09-28', 'invoice_number': '14', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'duZ3BvkWacOKzrbIlqwx8hPS1NjiCsy9', 'payment_method': '1', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,785 - INFO - Processing items for invoice 26 (new ID: 1864)
2025-10-24 02:30:43,785 - INFO - Found 3 items for invoice 26
2025-10-24 02:30:43,785 - INFO - Sample item for invoice 26: {'item_id': '30', 'invoice_id': '26', 'item_tax_rate_id': '0', 'item_product_id': 'NULL', 'item_date_added': '2023-09-18', 'item_task_id': 'NULL', 'item_name': 'power', 'item_description': '', 'item_quantity': '1.00', 'item_price': '0.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,788 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(176) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1864, 'product_id': 176, 'name': 'Corsair 550W CX550F RGB White 80+ Bronze Power Supply', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('106.00'), 'order': '2', 'subtotal': Decimal('106.0000'), 'tax_amount': Decimal('10.60000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('116.60000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,788 - ERROR - Error processing invoice 26 (15): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(176) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1864, 'product_id': 176, 'name': 'Corsair 550W CX550F RGB White 80+ Bronze Power Supply', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('106.00'), 'order': '2', 'subtotal': Decimal('106.0000'), 'tax_amount': Decimal('10.60000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('116.60000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,788 - ERROR - Invoice data: {'invoice_id': '26', 'user_id': '1', 'client_id': '14', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-09-18', 'invoice_time_created': '08:50:29', 'invoice_date_modified': '2023-09-18 08:54:59', 'invoice_date_due': '2023-10-02', 'invoice_number': '15', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': '2C8XnpeOBEWMvPoA3gcYk956rbHzuLJS', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,791 - INFO - Processing items for invoice 27 (new ID: 1865)
2025-10-24 02:30:43,791 - INFO - Found 3 items for invoice 27
2025-10-24 02:30:43,791 - INFO - Sample item for invoice 27: {'item_id': '33', 'invoice_id': '27', 'item_tax_rate_id': '2', 'item_product_id': '11', 'item_date_added': '2023-09-25', 'item_task_id': 'NULL', 'item_name': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'item_description': '', 'item_quantity': '1.00', 'item_price': '145.00', 'item_discount_amount': '14.50', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,793 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(175) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1865, 'product_id': 175, 'name': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('145.00'), 'order': '1', 'subtotal': Decimal('145.0000'), 'tax_amount': Decimal('14.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('159.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,793 - WARNING - Error looking up tax rate 2: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(175) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1865, 'product_id': 175, 'name': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('145.00'), 'order': '1', 'subtotal': Decimal('145.0000'), 'tax_amount': Decimal('14.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('159.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,793 - ERROR - Error processing invoice 27 (16): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(175) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1865, 'product_id': 175, 'name': 'Crucial BX500 2TB 3D NAND SATA 2.5in SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('145.00'), 'order': '1', 'subtotal': Decimal('145.0000'), 'tax_amount': Decimal('14.50000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('159.50000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,794 - ERROR - Invoice data: {'invoice_id': '27', 'user_id': '1', 'client_id': '13', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-09-25', 'invoice_time_created': '01:57:57', 'invoice_date_modified': '2023-09-25 02:11:41', 'invoice_date_due': '2023-10-09', 'invoice_number': '16', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'zTh1YAuVRnQFWZXofNcxqerwdka5m6s9', 'payment_method': '1', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,796 - INFO - Processing items for invoice 28 (new ID: 1866)
2025-10-24 02:30:43,796 - INFO - Found 4 items for invoice 28
2025-10-24 02:30:43,796 - INFO - Sample item for invoice 28: {'item_id': '37', 'invoice_id': '28', 'item_tax_rate_id': '2', 'item_product_id': '13', 'item_date_added': '2023-10-08', 'item_task_id': 'NULL', 'item_name': 'Crucial MX500 1TB 3D 6Gbps 2.5in SSD 560MB/s 510MB/s NAND SATA SSD', 'item_description': '', 'item_quantity': '1.00', 'item_price': '82.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,798 - WARNING - Error looking up tax rate 2: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(177) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1866, 'product_id': 177, 'name': 'Crucial MX500 1TB 3D 6Gbps 2.5in SSD 560MB/s 510MB/s NAND SATA SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('82.00'), 'order': '1', 'subtotal': Decimal('82.0000'), 'tax_amount': Decimal('8.20000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('90.20000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,798 - WARNING - Error looking up tax rate 2: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(177) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1866, 'product_id': 177, 'name': 'Crucial MX500 1TB 3D 6Gbps 2.5in SSD 560MB/s 510MB/s NAND SATA SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('82.00'), 'order': '1', 'subtotal': Decimal('82.0000'), 'tax_amount': Decimal('8.20000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('90.20000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,799 - WARNING - Error looking up tax rate 2: This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(177) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1866, 'product_id': 177, 'name': 'Crucial MX500 1TB 3D 6Gbps 2.5in SSD 560MB/s 510MB/s NAND SATA SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('82.00'), 'order': '1', 'subtotal': Decimal('82.0000'), 'tax_amount': Decimal('8.20000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('90.20000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,799 - ERROR - Error processing invoice 28 (17): This Session's transaction has been rolled back due to a previous exception during flush. To begin a new transaction with this Session, first issue Session.rollback(). Original exception was: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(177) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1866, 'product_id': 177, 'name': 'Crucial MX500 1TB 3D 6Gbps 2.5in SSD 560MB/s 510MB/s NAND SATA SSD', 'description': '', 'quantity': Decimal('1.00'), 'price': Decimal('82.00'), 'order': '1', 'subtotal': Decimal('82.0000'), 'tax_amount': Decimal('8.20000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('90.20000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj) (Background on this error at: https://sqlalche.me/e/20/7s2a)
2025-10-24 02:30:43,799 - ERROR - Invoice data: {'invoice_id': '28', 'user_id': '1', 'client_id': '15', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-10-08', 'invoice_time_created': '11:01:37', 'invoice_date_modified': '2023-10-09 03:19:56', 'invoice_date_due': '2023-10-22', 'invoice_number': '17', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'P6Xq7eTIS3HJbvn1frELlM590apg8UdF', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,799 - INFO - Processing record 20/78
2025-10-24 02:30:43,802 - INFO - Processing items for invoice 29 (new ID: 1867)
2025-10-24 02:30:43,802 - INFO - Found 1 items for invoice 29
2025-10-24 02:30:43,802 - INFO - Sample item for invoice 29: {'item_id': '41', 'invoice_id': '29', 'item_tax_rate_id': '2', 'item_product_id': '1', 'item_date_added': '2023-10-10', 'item_task_id': 'NULL', 'item_name': 'PC service', 'item_description': 'Assist with cashflow manager backups, outlook, and Onedrive sync, check power options', 'item_quantity': '1.00', 'item_price': '100.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,804 - ERROR - Error processing invoice 29 (18): (psycopg2.errors.ForeignKeyViolation) insert or update on table "invoice_items" violates foreign key constraint "invoice_items_product_id_fkey"
DETAIL:  Key (product_id)=(165) is not present in table "products".

[SQL: INSERT INTO invoice_items (invoice_id, product_id, name, description, quantity, price, "order", subtotal, tax_amount, discount_amount, total, created_at, updated_at) VALUES (%(invoice_id)s, %(product_id)s, %(name)s, %(description)s, %(quantity)s, %(price)s, %(order)s, %(subtotal)s, %(tax_amount)s, %(discount_amount)s, %(total)s, now(), now()) RETURNING invoice_items.id, invoice_items.created_at, invoice_items.updated_at]
[parameters: {'invoice_id': 1867, 'product_id': 165, 'name': 'PC service', 'description': 'Assist with cashflow manager backups, outlook, and Onedrive sync, check power options', 'quantity': Decimal('1.00'), 'price': Decimal('100.00'), 'order': '1', 'subtotal': Decimal('100.0000'), 'tax_amount': Decimal('10.00000'), 'discount_amount': Decimal('0.0'), 'total': Decimal('110.00000')}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
2025-10-24 02:30:43,804 - ERROR - Invoice data: {'invoice_id': '29', 'user_id': '1', 'client_id': '13', 'invoice_group_id': '3', 'invoice_status_id': '4', 'is_read_only': '1', 'invoice_password': '', 'invoice_date_created': '2023-10-10', 'invoice_time_created': '04:03:28', 'invoice_date_modified': '2023-10-10 04:12:07', 'invoice_date_due': '2023-10-24', 'invoice_number': '18', 'invoice_discount_amount': '0.00', 'invoice_discount_percent': '0.00', 'invoice_terms': 'Please pay within 14 days.\\nMake payment to:\\nChristopher Caston TA Aptitude Technology\\n\\nBANK NAME: ANZ - Airwallex Pty Ltd\\nAccount: 612983287\\nBSB: 013943\\n\\nPlease quote the invoice number in the payment reference.', 'invoice_url_key': 'wCD79tmlGukQzXyVAIUW8Ev3c1sjKLiB', 'payment_method': '3', 'creditinvoice_parent_id': 'NULL'}
2025-10-24 02:30:43,806 - INFO - Processing items for invoice 31 (new ID: 1868)
2025-10-24 02:30:43,806 - INFO - Found 2 items for invoice 31
2025-10-24 02:30:43,806 - INFO - Sample item for invoice 31: {'item_id': '44', 'invoice_id': '31', 'item_tax_rate_id': '2', 'item_product_id': 'NULL', 'item_date_added': '2023-12-28', 'item_task_id': 'NULL', 'item_name': 'Computer System', 'item_description': 'Cooler Master MasterBox Q500L ATX Case\\nMSI B550 MS-7C85 motherboard\\n32-GB RAM\\n1x 512GB NVME\\n1x 256GM NVME\\nRyzen 5 APU ', 'item_quantity': '1.00', 'item_price': '300.00', 'item_discount_amount': 'NULL', 'item_order': '1', 'item_is_recurring': 'NULL', 'item_product_unit': 'NULL', 'item_product_unit_id': 'NULL', 'item_date': 'NULL'}
2025-10-24 02:30:43,810 - INFO - Created 2 invoice items for invoice 1868
2025-10-24 02:30:43,810 - INFO - Items processed: 2, items skipped: 0
2025-10-24 02:30:43,810 - INFO - Successfully imported invoice 20 (ID: 1868)
2025-10-24 02:30:43,813 - INFO - Processing items for invoice 32 (new ID: 1869)
2025-10-24 02:30:43,813 - INFO - Found 3 items for invoice 32
2025-10-24 02:30:43,813 - INFO - Sample item for invoice 32: {'item_id': '46', 'invoice_id': '32', 'item_tax_rate_id': '2', 'item_product_id': 'NULL', 'item_date_added': '2024-01-05', 'item_task_id': 'NULL', 'item_name': 'Kingston 16GB (1x16GB'}
2025-10-24 02:30:43,813 - WARNING - Skipping invoice item without quantity: {'item_id': '46', 'invoice_id': '32', 'item_tax_rate_id': '2', 'item_product_id': 'NULL', 'item_date_added': '2024-01-05', 'item_task_id': 'NULL', 'item_name': 'Kingston 16GB (1x16GB'}
2025-10-24 02:30:43,817 - INFO - Created 2 invoice items for invoice 1869
2025-10-24 02:30:43,817 - INFO - Items processed: 2, items skipped: 1
2025-10-24 02:30:43,817 - INFO - Successfully imported invoice 21 (ID: 1869)
2025-10-24 02:30:43,819 - INFO - Processing items for invoice 33 (new ID: 1870)
2025-10-24 02:30:43,820 - INFO - Found 2 items for invoice 33
2025-10-24 02:30:43,820 - INFO - Sample item for invoice 33: {'item_id': '49', 'invoice_id': '33', 'item_tax_rate_id': '2', 'item_product_id': '20', 'item_date_added': '2024-02-15', 'item_task_id': 'NULL', 'item_name': 'Leader Corporate S43 Slim Desktop, Intel i7-12700, 16GB RAM, 500GB M.2 NVMe SSD, 300W GOLD 80+ PSU, Windows 11 Pro, 3 Years \\"4 Hour\\" Onsite Warranty', 'item_description': 'DESCRIPTION\\n\\nCPU\\nIntelÂ® 12th Generation Core i7-12700 12-Cores 20-Threads\\n\\nMainboard\\nAsus Corporate Server grade \\"Pro\\" Intel B660M-C/CSM-S with 24/7 stability and reliability\\n\\nGraphics\\nIntel HD graphics 730. Supports up to 3 displays simultaneously via 2x DP, 1x HDMI and 1x D-SUB\\n\\nMemory\\n16GB (1x 16GB'}
2025-10-24 02:30:43,820 - WARNING - Skipping invoice item without quantity: {'item_id': '49', 'invoice_id': '33', 'item_tax_rate_id': '2', 'item_product_id': '20', 'item_date_added': '2024-02-15', 'item_task_id': 'NULL', 'item_name': 'Leader Corporate S43 Slim Desktop, Intel i7-12700, 16GB RAM, 500GB M.2 NVMe SSD, 300W GOLD 80+ PSU, Windows 11 Pro, 3 Years \\"4 Hour\\" Onsite Warranty', 'item_description': 'DESCRIPTION\\n\\nCPU\\nIntelÂ® 12th Generation Core i7-12700 12-Cores 20-Threads\\n\\nMainboard\\nAsus Corporate Server grade \\"Pro\\" Intel B660M-C/CSM-S with 24/7 stability and reliability\\n\\nGraphics\\nIntel HD graphics 730. Supports up to 3 displays simultaneously via 2x DP, 1x HDMI and 1x D-SUB\\n\\nMemory\\n16GB (1x 16GB'}
2025-10-24 02:30:43,820 - WARNING - Skipping invoice item without quantity: {'item_id': '50', 'invoice_id': '33', 'item_tax_rate_id': '2', 'item_product_id': '16', 'item_date_added': '2024-02-15', 'item_task_id': 'NULL', 'item_name': 'HP E24i G4 23.8\\"/24\\" WUXGA IPS Monitor Anti-Glare 1920x1200 DisplayPort VGA HDMI Tilt Swivel Pivot USB Hub 3yrs Wty', 'item_description': 'DESCRIPTION\\n\\nHP E24i G4 24\\" WUXGA IPS 1920 x 1200 DisplayPort, VGA, HDMI, Tilt, Swivel, Pivot, USB, 3 YR WTY MONITOR (9VJ40AA'}
2025-10-24 02:30:43,820 - INFO - Created 0 invoice items for invoice 1870
2025-10-24 02:30:43,820 - INFO - Items processed: 0, items skipped: 2
2025-10-24 02:30:43,820 - INFO - Successfully imported invoice 22 (ID: 1870)
2025-10-24 02:30:43,823 - INFO - Processing items for invoice 34 (new ID: 1871)
2025-10-24 02:30:43,823 - INFO - Found 0 items for invoice 34
2025-10-24 02:30:43,824 - INFO - Created 0 invoice items for invoice 1871
2025-10-24 02:30:43,824 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,824 - INFO - Successfully imported invoice 23 (ID: 1871)
2025-10-24 02:30:43,826 - INFO - Processing items for invoice 35 (new ID: 1872)
2025-10-24 02:30:43,826 - INFO - Found 0 items for invoice 35
2025-10-24 02:30:43,827 - INFO - Created 0 invoice items for invoice 1872
2025-10-24 02:30:43,827 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,827 - INFO - Successfully imported invoice 24 (ID: 1872)
2025-10-24 02:30:43,830 - INFO - Processing items for invoice 36 (new ID: 1873)
2025-10-24 02:30:43,830 - INFO - Found 0 items for invoice 36
2025-10-24 02:30:43,830 - INFO - Created 0 invoice items for invoice 1873
2025-10-24 02:30:43,830 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,830 - INFO - Successfully imported invoice 25 (ID: 1873)
2025-10-24 02:30:43,833 - INFO - Processing items for invoice 37 (new ID: 1874)
2025-10-24 02:30:43,833 - INFO - Found 0 items for invoice 37
2025-10-24 02:30:43,834 - INFO - Created 0 invoice items for invoice 1874
2025-10-24 02:30:43,834 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,834 - INFO - Successfully imported invoice 26 (ID: 1874)
2025-10-24 02:30:43,836 - INFO - Processing items for invoice 38 (new ID: 1875)
2025-10-24 02:30:43,836 - INFO - Found 0 items for invoice 38
2025-10-24 02:30:43,837 - INFO - Created 0 invoice items for invoice 1875
2025-10-24 02:30:43,837 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,837 - INFO - Successfully imported invoice 27 (ID: 1875)
2025-10-24 02:30:43,839 - INFO - Processing items for invoice 39 (new ID: 1876)
2025-10-24 02:30:43,839 - INFO - Found 0 items for invoice 39
2025-10-24 02:30:43,840 - INFO - Created 0 invoice items for invoice 1876
2025-10-24 02:30:43,840 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,840 - INFO - Successfully imported invoice 28 (ID: 1876)
2025-10-24 02:30:43,840 - INFO - Processing record 30/78
2025-10-24 02:30:43,842 - INFO - Processing items for invoice 40 (new ID: 1877)
2025-10-24 02:30:43,843 - INFO - Found 0 items for invoice 40
2025-10-24 02:30:43,843 - INFO - Created 0 invoice items for invoice 1877
2025-10-24 02:30:43,843 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,843 - INFO - Successfully imported invoice 29 (ID: 1877)
2025-10-24 02:30:43,846 - INFO - Processing items for invoice 41 (new ID: 1878)
2025-10-24 02:30:43,846 - INFO - Found 0 items for invoice 41
2025-10-24 02:30:43,846 - INFO - Created 0 invoice items for invoice 1878
2025-10-24 02:30:43,846 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,846 - INFO - Successfully imported invoice 30 (ID: 1878)
2025-10-24 02:30:43,849 - INFO - Processing items for invoice 42 (new ID: 1879)
2025-10-24 02:30:43,849 - INFO - Found 0 items for invoice 42
2025-10-24 02:30:43,850 - INFO - Created 0 invoice items for invoice 1879
2025-10-24 02:30:43,850 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,850 - INFO - Successfully imported invoice 31 (ID: 1879)
2025-10-24 02:30:43,852 - INFO - Processing items for invoice 43 (new ID: 1880)
2025-10-24 02:30:43,852 - INFO - Found 0 items for invoice 43
2025-10-24 02:30:43,853 - INFO - Created 0 invoice items for invoice 1880
2025-10-24 02:30:43,853 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,853 - INFO - Successfully imported invoice 32 (ID: 1880)
2025-10-24 02:30:43,855 - INFO - Processing items for invoice 44 (new ID: 1881)
2025-10-24 02:30:43,855 - INFO - Found 0 items for invoice 44
2025-10-24 02:30:43,856 - INFO - Created 0 invoice items for invoice 1881
2025-10-24 02:30:43,856 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,856 - INFO - Successfully imported invoice 33 (ID: 1881)
2025-10-24 02:30:43,859 - INFO - Processing items for invoice 45 (new ID: 1882)
2025-10-24 02:30:43,859 - INFO - Found 0 items for invoice 45
2025-10-24 02:30:43,859 - INFO - Created 0 invoice items for invoice 1882
2025-10-24 02:30:43,859 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,859 - INFO - Successfully imported invoice 34 (ID: 1882)
2025-10-24 02:30:43,862 - INFO - Processing items for invoice 46 (new ID: 1883)
2025-10-24 02:30:43,862 - INFO - Found 0 items for invoice 46
2025-10-24 02:30:43,862 - INFO - Created 0 invoice items for invoice 1883
2025-10-24 02:30:43,862 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,862 - INFO - Successfully imported invoice 35 (ID: 1883)
2025-10-24 02:30:43,865 - INFO - Processing items for invoice 47 (new ID: 1884)
2025-10-24 02:30:43,865 - INFO - Found 0 items for invoice 47
2025-10-24 02:30:43,865 - INFO - Created 0 invoice items for invoice 1884
2025-10-24 02:30:43,865 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,866 - INFO - Successfully imported invoice 36 (ID: 1884)
2025-10-24 02:30:43,868 - INFO - Processing items for invoice 48 (new ID: 1885)
2025-10-24 02:30:43,868 - INFO - Found 0 items for invoice 48
2025-10-24 02:30:43,869 - INFO - Created 0 invoice items for invoice 1885
2025-10-24 02:30:43,869 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,869 - INFO - Successfully imported invoice 37 (ID: 1885)
2025-10-24 02:30:43,871 - INFO - Processing items for invoice 49 (new ID: 1886)
2025-10-24 02:30:43,871 - INFO - Found 0 items for invoice 49
2025-10-24 02:30:43,872 - INFO - Created 0 invoice items for invoice 1886
2025-10-24 02:30:43,872 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,872 - INFO - Successfully imported invoice 38 (ID: 1886)
2025-10-24 02:30:43,872 - INFO - Processing record 40/78
2025-10-24 02:30:43,874 - INFO - Processing items for invoice 50 (new ID: 1887)
2025-10-24 02:30:43,874 - INFO - Found 0 items for invoice 50
2025-10-24 02:30:43,875 - INFO - Created 0 invoice items for invoice 1887
2025-10-24 02:30:43,875 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,875 - INFO - Successfully imported invoice 39 (ID: 1887)
2025-10-24 02:30:43,877 - INFO - Processing items for invoice 51 (new ID: 1888)
2025-10-24 02:30:43,877 - INFO - Found 0 items for invoice 51
2025-10-24 02:30:43,878 - INFO - Created 0 invoice items for invoice 1888
2025-10-24 02:30:43,878 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,878 - INFO - Successfully imported invoice 40 (ID: 1888)
2025-10-24 02:30:43,880 - INFO - Processing items for invoice 52 (new ID: 1889)
2025-10-24 02:30:43,880 - INFO - Found 0 items for invoice 52
2025-10-24 02:30:43,881 - INFO - Created 0 invoice items for invoice 1889
2025-10-24 02:30:43,881 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,881 - INFO - Successfully imported invoice 78 (ID: 1889)
2025-10-24 02:30:43,883 - INFO - Processing items for invoice 53 (new ID: 1890)
2025-10-24 02:30:43,883 - INFO - Found 0 items for invoice 53
2025-10-24 02:30:43,884 - INFO - Created 0 invoice items for invoice 1890
2025-10-24 02:30:43,884 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,884 - INFO - Successfully imported invoice 41 (ID: 1890)
2025-10-24 02:30:43,886 - INFO - Processing items for invoice 54 (new ID: 1891)
2025-10-24 02:30:43,886 - INFO - Found 0 items for invoice 54
2025-10-24 02:30:43,887 - INFO - Created 0 invoice items for invoice 1891
2025-10-24 02:30:43,887 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,887 - INFO - Successfully imported invoice 42 (ID: 1891)
2025-10-24 02:30:43,889 - INFO - Processing items for invoice 59 (new ID: 1892)
2025-10-24 02:30:43,889 - INFO - Found 0 items for invoice 59
2025-10-24 02:30:43,890 - INFO - Created 0 invoice items for invoice 1892
2025-10-24 02:30:43,890 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,890 - INFO - Successfully imported invoice 46 (ID: 1892)
2025-10-24 02:30:43,892 - INFO - Processing items for invoice 56 (new ID: 1893)
2025-10-24 02:30:43,892 - INFO - Found 0 items for invoice 56
2025-10-24 02:30:43,893 - INFO - Created 0 invoice items for invoice 1893
2025-10-24 02:30:43,893 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,893 - INFO - Successfully imported invoice 43 (ID: 1893)
2025-10-24 02:30:43,895 - INFO - Processing items for invoice 57 (new ID: 1894)
2025-10-24 02:30:43,895 - INFO - Found 0 items for invoice 57
2025-10-24 02:30:43,896 - INFO - Created 0 invoice items for invoice 1894
2025-10-24 02:30:43,896 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,896 - INFO - Successfully imported invoice 44 (ID: 1894)
2025-10-24 02:30:43,898 - INFO - Processing items for invoice 58 (new ID: 1895)
2025-10-24 02:30:43,898 - INFO - Found 0 items for invoice 58
2025-10-24 02:30:43,899 - INFO - Created 0 invoice items for invoice 1895
2025-10-24 02:30:43,899 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,899 - INFO - Successfully imported invoice 45 (ID: 1895)
2025-10-24 02:30:43,901 - INFO - Processing items for invoice 60 (new ID: 1896)
2025-10-24 02:30:43,901 - INFO - Found 0 items for invoice 60
2025-10-24 02:30:43,902 - INFO - Created 0 invoice items for invoice 1896
2025-10-24 02:30:43,902 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,902 - INFO - Successfully imported invoice 47 (ID: 1896)
2025-10-24 02:30:43,902 - INFO - Processing record 50/78
2025-10-24 02:30:43,904 - INFO - Processing items for invoice 61 (new ID: 1897)
2025-10-24 02:30:43,904 - INFO - Found 0 items for invoice 61
2025-10-24 02:30:43,905 - INFO - Created 0 invoice items for invoice 1897
2025-10-24 02:30:43,905 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,905 - INFO - Successfully imported invoice 48 (ID: 1897)
2025-10-24 02:30:43,907 - INFO - Processing items for invoice 62 (new ID: 1898)
2025-10-24 02:30:43,907 - INFO - Found 0 items for invoice 62
2025-10-24 02:30:43,908 - INFO - Created 0 invoice items for invoice 1898
2025-10-24 02:30:43,908 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,908 - INFO - Successfully imported invoice 49 (ID: 1898)
2025-10-24 02:30:43,910 - INFO - Processing items for invoice 63 (new ID: 1899)
2025-10-24 02:30:43,910 - INFO - Found 0 items for invoice 63
2025-10-24 02:30:43,911 - INFO - Created 0 invoice items for invoice 1899
2025-10-24 02:30:43,911 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,911 - INFO - Successfully imported invoice 50 (ID: 1899)
2025-10-24 02:30:43,913 - INFO - Processing items for invoice 64 (new ID: 1900)
2025-10-24 02:30:43,913 - INFO - Found 0 items for invoice 64
2025-10-24 02:30:43,914 - INFO - Created 0 invoice items for invoice 1900
2025-10-24 02:30:43,914 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,914 - INFO - Successfully imported invoice 67 (ID: 1900)
2025-10-24 02:30:43,916 - INFO - Processing items for invoice 65 (new ID: 1901)
2025-10-24 02:30:43,916 - INFO - Found 0 items for invoice 65
2025-10-24 02:30:43,916 - INFO - Created 0 invoice items for invoice 1901
2025-10-24 02:30:43,916 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,916 - INFO - Successfully imported invoice 51 (ID: 1901)
2025-10-24 02:30:43,919 - INFO - Processing items for invoice 66 (new ID: 1902)
2025-10-24 02:30:43,919 - INFO - Found 0 items for invoice 66
2025-10-24 02:30:43,919 - INFO - Created 0 invoice items for invoice 1902
2025-10-24 02:30:43,919 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,919 - INFO - Successfully imported invoice 68 (ID: 1902)
2025-10-24 02:30:43,922 - INFO - Processing items for invoice 67 (new ID: 1903)
2025-10-24 02:30:43,922 - INFO - Found 0 items for invoice 67
2025-10-24 02:30:43,922 - INFO - Created 0 invoice items for invoice 1903
2025-10-24 02:30:43,922 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,922 - INFO - Successfully imported invoice 52 (ID: 1903)
2025-10-24 02:30:43,925 - INFO - Processing items for invoice 68 (new ID: 1904)
2025-10-24 02:30:43,925 - INFO - Found 0 items for invoice 68
2025-10-24 02:30:43,925 - INFO - Created 0 invoice items for invoice 1904
2025-10-24 02:30:43,925 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,925 - INFO - Successfully imported invoice 53 (ID: 1904)
2025-10-24 02:30:43,927 - INFO - Processing items for invoice 69 (new ID: 1905)
2025-10-24 02:30:43,927 - INFO - Found 0 items for invoice 69
2025-10-24 02:30:43,928 - INFO - Created 0 invoice items for invoice 1905
2025-10-24 02:30:43,928 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,928 - INFO - Successfully imported invoice 54 (ID: 1905)
2025-10-24 02:30:43,930 - INFO - Processing items for invoice 70 (new ID: 1906)
2025-10-24 02:30:43,930 - INFO - Found 0 items for invoice 70
2025-10-24 02:30:43,931 - INFO - Created 0 invoice items for invoice 1906
2025-10-24 02:30:43,931 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,931 - INFO - Successfully imported invoice 69 (ID: 1906)
2025-10-24 02:30:43,931 - INFO - Processing record 60/78
2025-10-24 02:30:43,933 - INFO - Processing items for invoice 71 (new ID: 1907)
2025-10-24 02:30:43,933 - INFO - Found 0 items for invoice 71
2025-10-24 02:30:43,934 - INFO - Created 0 invoice items for invoice 1907
2025-10-24 02:30:43,934 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,934 - INFO - Successfully imported invoice 55 (ID: 1907)
2025-10-24 02:30:43,936 - INFO - Processing items for invoice 72 (new ID: 1908)
2025-10-24 02:30:43,936 - INFO - Found 0 items for invoice 72
2025-10-24 02:30:43,936 - INFO - Created 0 invoice items for invoice 1908
2025-10-24 02:30:43,936 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,937 - INFO - Successfully imported invoice 56 (ID: 1908)
2025-10-24 02:30:43,939 - INFO - Processing items for invoice 73 (new ID: 1909)
2025-10-24 02:30:43,939 - INFO - Found 0 items for invoice 73
2025-10-24 02:30:43,939 - INFO - Created 0 invoice items for invoice 1909
2025-10-24 02:30:43,939 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,939 - INFO - Successfully imported invoice 57 (ID: 1909)
2025-10-24 02:30:43,942 - INFO - Processing items for invoice 74 (new ID: 1910)
2025-10-24 02:30:43,942 - INFO - Found 0 items for invoice 74
2025-10-24 02:30:43,942 - INFO - Created 0 invoice items for invoice 1910
2025-10-24 02:30:43,942 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,942 - INFO - Successfully imported invoice 70 (ID: 1910)
2025-10-24 02:30:43,944 - INFO - Processing items for invoice 75 (new ID: 1911)
2025-10-24 02:30:43,944 - INFO - Found 0 items for invoice 75
2025-10-24 02:30:43,945 - INFO - Created 0 invoice items for invoice 1911
2025-10-24 02:30:43,945 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,945 - INFO - Successfully imported invoice 58 (ID: 1911)
2025-10-24 02:30:43,947 - INFO - Processing items for invoice 76 (new ID: 1912)
2025-10-24 02:30:43,947 - INFO - Found 0 items for invoice 76
2025-10-24 02:30:43,948 - INFO - Created 0 invoice items for invoice 1912
2025-10-24 02:30:43,948 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,948 - INFO - Successfully imported invoice 59 (ID: 1912)
2025-10-24 02:30:43,950 - INFO - Processing items for invoice 77 (new ID: 1913)
2025-10-24 02:30:43,950 - INFO - Found 0 items for invoice 77
2025-10-24 02:30:43,950 - INFO - Created 0 invoice items for invoice 1913
2025-10-24 02:30:43,951 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,951 - INFO - Successfully imported invoice 60 (ID: 1913)
2025-10-24 02:30:43,953 - INFO - Processing items for invoice 78 (new ID: 1914)
2025-10-24 02:30:43,953 - INFO - Found 0 items for invoice 78
2025-10-24 02:30:43,953 - INFO - Created 0 invoice items for invoice 1914
2025-10-24 02:30:43,953 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,953 - INFO - Successfully imported invoice 71 (ID: 1914)
2025-10-24 02:30:43,955 - INFO - Processing items for invoice 79 (new ID: 1915)
2025-10-24 02:30:43,955 - INFO - Found 0 items for invoice 79
2025-10-24 02:30:43,956 - INFO - Created 0 invoice items for invoice 1915
2025-10-24 02:30:43,956 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,956 - INFO - Successfully imported invoice 61 (ID: 1915)
2025-10-24 02:30:43,958 - INFO - Processing items for invoice 80 (new ID: 1916)
2025-10-24 02:30:43,958 - INFO - Found 0 items for invoice 80
2025-10-24 02:30:43,959 - INFO - Created 0 invoice items for invoice 1916
2025-10-24 02:30:43,959 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,959 - INFO - Successfully imported invoice 62 (ID: 1916)
2025-10-24 02:30:43,959 - INFO - Processing record 70/78
2025-10-24 02:30:43,961 - INFO - Processing items for invoice 81 (new ID: 1917)
2025-10-24 02:30:43,961 - INFO - Found 0 items for invoice 81
2025-10-24 02:30:43,961 - INFO - Created 0 invoice items for invoice 1917
2025-10-24 02:30:43,961 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,961 - INFO - Successfully imported invoice 63 (ID: 1917)
2025-10-24 02:30:43,964 - INFO - Processing items for invoice 82 (new ID: 1918)
2025-10-24 02:30:43,964 - INFO - Found 0 items for invoice 82
2025-10-24 02:30:43,964 - INFO - Created 0 invoice items for invoice 1918
2025-10-24 02:30:43,964 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,964 - INFO - Successfully imported invoice 64 (ID: 1918)
2025-10-24 02:30:43,966 - INFO - Processing items for invoice 83 (new ID: 1919)
2025-10-24 02:30:43,966 - INFO - Found 0 items for invoice 83
2025-10-24 02:30:43,967 - INFO - Created 0 invoice items for invoice 1919
2025-10-24 02:30:43,967 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,967 - INFO - Successfully imported invoice 72 (ID: 1919)
2025-10-24 02:30:43,969 - INFO - Processing items for invoice 84 (new ID: 1920)
2025-10-24 02:30:43,969 - INFO - Found 0 items for invoice 84
2025-10-24 02:30:43,969 - INFO - Created 0 invoice items for invoice 1920
2025-10-24 02:30:43,969 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,969 - INFO - Successfully imported invoice 73 (ID: 1920)
2025-10-24 02:30:43,972 - INFO - Processing items for invoice 85 (new ID: 1921)
2025-10-24 02:30:43,972 - INFO - Found 0 items for invoice 85
2025-10-24 02:30:43,972 - INFO - Created 0 invoice items for invoice 1921
2025-10-24 02:30:43,972 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,972 - INFO - Successfully imported invoice 74 (ID: 1921)
2025-10-24 02:30:43,974 - INFO - Processing items for invoice 86 (new ID: 1922)
2025-10-24 02:30:43,974 - INFO - Found 0 items for invoice 86
2025-10-24 02:30:43,975 - INFO - Created 0 invoice items for invoice 1922
2025-10-24 02:30:43,975 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,975 - INFO - Successfully imported invoice 75 (ID: 1922)
2025-10-24 02:30:43,977 - INFO - Processing items for invoice 87 (new ID: 1923)
2025-10-24 02:30:43,977 - INFO - Found 0 items for invoice 87
2025-10-24 02:30:43,977 - INFO - Created 0 invoice items for invoice 1923
2025-10-24 02:30:43,977 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,977 - INFO - Successfully imported invoice 76 (ID: 1923)
2025-10-24 02:30:43,979 - INFO - Processing items for invoice 88 (new ID: 1924)
2025-10-24 02:30:43,979 - INFO - Found 0 items for invoice 88
2025-10-24 02:30:43,980 - INFO - Created 0 invoice items for invoice 1924
2025-10-24 02:30:43,980 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,980 - INFO - Successfully imported invoice 77 (ID: 1924)
2025-10-24 02:30:43,982 - INFO - Processing items for invoice 89 (new ID: 1925)
2025-10-24 02:30:43,982 - INFO - Found 0 items for invoice 89
2025-10-24 02:30:43,982 - INFO - Created 0 invoice items for invoice 1925
2025-10-24 02:30:43,982 - INFO - Items processed: 0, items skipped: 0
2025-10-24 02:30:43,982 - INFO - Successfully imported invoice 65 (ID: 1925)
2025-10-24 02:30:43,984 - INFO - Successfully imported 60 invoices
2025-10-24 02:30:43,984 - WARNING - Skipped 18 records due to errors
2025-10-24 02:30:43,984 - INFO - Invoice import completed
2025-10-24 02:30:43,984 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
2025-10-24 02:30:43,984 - INFO - SELECT count(*) AS count_1 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM (SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at 
FROM invoices) AS anon_1
2025-10-24 02:30:43,984 INFO sqlalchemy.engine.Engine [cached since 17.73s ago] {}
FROM invoices) AS anon_1
2025-10-24 02:30:43,984 - INFO - [cached since 17.73s ago] {}
2025-10-24 02:30:43,987 INFO sqlalchemy.engine.Engine SELECT count(*) AS count_1 
2025-10-24 02:30:43,987 - INFO - SELECT count(*) AS count_1 
FROM (SELECT invoice_items.invoice_id AS invoice_items_invoice_id, invoice_items.product_id AS invoice_items_product_id, invoice_items.name AS invoice_items_name, invoice_items.description AS invoice_items_description, invoice_items.quantity AS invoice_items_quantity, invoice_items.price AS invoice_items_price, invoice_items."order" AS invoice_items_order, invoice_items.subtotal AS invoice_items_subtotal, invoice_items.tax_amount AS invoice_items_tax_amount, invoice_items.discount_amount AS invoice_items_discount_amount, invoice_items.total AS invoice_items_total, invoice_items.id AS invoice_items_id, invoice_items.created_at AS invoice_items_created_at, invoice_items.updated_at AS invoice_items_updated_at 
FROM (SELECT invoice_items.invoice_id AS invoice_items_invoice_id, invoice_items.product_id AS invoice_items_product_id, invoice_items.name AS invoice_items_name, invoice_items.description AS invoice_items_description, invoice_items.quantity AS invoice_items_quantity, invoice_items.price AS invoice_items_price, invoice_items."order" AS invoice_items_order, invoice_items.subtotal AS invoice_items_subtotal, invoice_items.tax_amount AS invoice_items_tax_amount, invoice_items.discount_amount AS invoice_items_discount_amount, invoice_items.total AS invoice_items_total, invoice_items.id AS invoice_items_id, invoice_items.created_at AS invoice_items_created_at, invoice_items.updated_at AS invoice_items_updated_at 
FROM invoice_items) AS anon_1
FROM invoice_items) AS anon_1
2025-10-24 02:30:43,987 - INFO - [generated in 0.00010s] {}
2025-10-24 02:30:43,987 INFO sqlalchemy.engine.Engine [generated in 0.00010s] {}
2025-10-24 02:30:43,988 - INFO - Invoices import completed: 58 invoices, 4 items
INFO:     192.168.1.115:56148 - "POST /settings/import/complete-sql HTTP/1.1" 200 OK
2025-10-24 02:30:43,988 - INFO - ROLLBACK
2025-10-24 02:30:43,988 INFO sqlalchemy.engine.Engine ROLLBACK
2025-10-24 02:30:45,001 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-10-24 02:30:45,001 - INFO - BEGIN (implicit)
2025-10-24 02:30:45,002 - INFO - SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:45,002 INFO sqlalchemy.engine.Engine SELECT users.username AS users_username, users.email AS users_email, users.hashed_password AS users_hashed_password, users.first_name AS users_first_name, users.last_name AS users_last_name, users.company AS users_company, users.role AS users_role, users.language AS users_language, users.street_address AS users_street_address, users.street_address_2 AS users_street_address_2, users.city AS users_city, users.state AS users_state, users.zip_code AS users_zip_code, users.country AS users_country, users.vat_id AS users_vat_id, users.tax_code AS users_tax_code, users.iban AS users_iban, users.acn AS users_acn, users.abn AS users_abn, users.subscriber_number AS users_subscriber_number, users.phone_number AS users_phone_number, users.fax_number AS users_fax_number, users.mobile_number AS users_mobile_number, users.web_address AS users_web_address, users.is_active AS users_is_active, users.is_admin AS users_is_admin, users.last_login AS users_last_login, users.id AS users_id, users.created_at AS users_created_at, users.updated_at AS users_updated_at 
FROM users 
WHERE users.id = %(id_1)s 
 LIMIT %(param_1)s
2025-10-24 02:30:45,002 INFO sqlalchemy.engine.Engine [cached since 18.78s ago] {'id_1': '1', 'param_1': 1}
2025-10-24 02:30:45,002 - INFO - [cached since 18.78s ago] {'id_1': '1', 'param_1': 1}
2025-10-24 02:30:45,017 - INFO - SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at, invoice_items_1.invoice_id AS invoice_items_1_invoice_id, invoice_items_1.product_id AS invoice_items_1_product_id, invoice_items_1.name AS invoice_items_1_name, invoice_items_1.description AS invoice_items_1_description, invoice_items_1.quantity AS invoice_items_1_quantity, invoice_items_1.price AS invoice_items_1_price, invoice_items_1."order" AS invoice_items_1_order, invoice_items_1.subtotal AS invoice_items_1_subtotal, invoice_items_1.tax_amount AS invoice_items_1_tax_amount, invoice_items_1.discount_amount AS invoice_items_1_discount_amount, invoice_items_1.total AS invoice_items_1_total, invoice_items_1.id AS invoice_items_1_id, invoice_items_1.created_at AS invoice_items_1_created_at, invoice_items_1.updated_at AS invoice_items_1_updated_at 
FROM invoices LEFT OUTER JOIN invoice_items AS invoice_items_1 ON invoices.id = invoice_items_1.invoice_id
2025-10-24 02:30:45,017 INFO sqlalchemy.engine.Engine SELECT invoices.user_id AS invoices_user_id, invoices.client_id AS invoices_client_id, invoices.invoice_number AS invoices_invoice_number, invoices.status AS invoices_status, invoices.issue_date AS invoices_issue_date, invoices.due_date AS invoices_due_date, invoices.terms AS invoices_terms, invoices.notes AS invoices_notes, invoices.url_key AS invoices_url_key, invoices.subtotal AS invoices_subtotal, invoices.tax_total AS invoices_tax_total, invoices.discount_amount AS invoices_discount_amount, invoices.discount_percentage AS invoices_discount_percentage, invoices.total AS invoices_total, invoices.paid_amount AS invoices_paid_amount, invoices.balance AS invoices_balance, invoices.id AS invoices_id, invoices.created_at AS invoices_created_at, invoices.updated_at AS invoices_updated_at, invoice_items_1.invoice_id AS invoice_items_1_invoice_id, invoice_items_1.product_id AS invoice_items_1_product_id, invoice_items_1.name AS invoice_items_1_name, invoice_items_1.description AS invoice_items_1_description, invoice_items_1.quantity AS invoice_items_1_quantity, invoice_items_1.price AS invoice_items_1_price, invoice_items_1."order" AS invoice_items_1_order, invoice_items_1.subtotal AS invoice_items_1_subtotal, invoice_items_1.tax_amount AS invoice_items_1_tax_amount, invoice_items_1.discount_amount AS invoice_items_1_discount_amount, invoice_items_1.total AS invoice_items_1_total, invoice_items_1.id AS invoice_items_1_id, invoice_items_1.created_at AS invoice_items_1_created_at, invoice_items_1.updated_at AS invoice_items_1_updated_at 
FROM invoices LEFT OUTER JOIN invoice_items AS invoice_items_1 ON invoices.id = invoice_items_1.invoice_id
2025-10-24 02:30:45,018 INFO sqlalchemy.engine.Engine [generated in 0.00043s] {}
2025-10-24 02:30:45,018 - INFO - [generated in 0.00043s] {}
INFO:     192.168.1.115:56148 - "GET /invoices/verify-import HTTP/1.1" 200 OK
2025-10-24 02:30:45,032 - INFO - ROLLBACK
2025-10-24 02:30:45,032 INFO sqlalchemy.engine.Engine ROLLBACK
